# 🌍 Rahbar - Climate Intelligence Platform

[![Live Demo](https://img.shields.io/badge/Live%20Demo-rahbar--dcd4a.web.app-blue?style=for-the-badge&logo=firebase)](https://rahbar-dcd4a.web.app)
[![React](https://img.shields.io/badge/React-18.2.0-61DAFB?style=for-the-badge&logo=react)](https://reactjs.org/)
[![Firebase](https://img.shields.io/badge/Firebase-10.7.1-FFCA28?style=for-the-badge&logo=firebase)](https://firebase.google.com/)
[![Gemini AI](https://img.shields.io/badge/Gemini%20AI-2.5%20Flash-4285F4?style=for-the-badge&logo=google)](https://ai.google.dev/)
[![LLM-Driven](https://img.shields.io/badge/LLM--Driven-Metrics-10B981?style=for-the-badge&logo=openai)](https://ai.google.dev/)

> **Rahbar** (رہبر) - A conversational AI-driven environmental intelligence platform for climate and disaster management, featuring **LLM-driven metrics**, **dynamic risk assessment**, and **intelligent fallback systems** for flood analysis, urban expansion monitoring, deforestation tracking, and air pollution assessment.

## 🎨 **Brand Identity**

### **Custom Logo Design**
Our logo represents the perfect fusion of technology and nature:

- **🛡️ Central Shield**: Divided into technology (left) and environment (right) halves
- **🌍 Global Connectivity**: Satellite dish and orbiting lines symbolizing worldwide reach
- **🌳 Environmental Focus**: Tree, river, and green landscape representing nature
- **🔗 Circuit Integration**: Digital pathways connecting technology with environment
- **🧭 Compass Rose**: Navigation and precision in environmental analysis
- **📡 Real-time Data**: Cloud and hexagonal patterns representing data flow

### **Design Features**
- **Curved Corners**: Modern, approachable design with rounded shield edges
- **Solid Typography**: Bold, readable "Rahbar" text in solid font style
- **Adaptive Sizing**: Multiple size options (small, default, large, xlarge)
- **Theme Support**: Automatic dark/light mode adaptation
- **Animation Ready**: Built for smooth hover and interaction effects

## 🚀 Features

### 🤖 **Conversational AI Interface**
- **Real-time Chat**: Interactive conversation with Rahbar AI Assistant
- **Collapsible Layout**: Dynamic chat interface that adapts to user needs
- **Voice Input**: Speech-to-text capabilities for hands-free interaction
- **Multi-language Support**: Intelligent intent detection and response

### 🗺️ **Advanced Geospatial Analysis**
- **Interactive Maps**: Real-time visualization with Leaflet.js
- **Flood Risk Assessment**: Comprehensive flood analysis with risk levels
- **Urban Expansion Monitoring**: Track city growth and development patterns
- **Green Space Analysis**: Monitor vegetation and ecosystem health
- **Real-time Weather Data**: Integration with OpenWeatherMap API

### 📊 **LLM-Driven Climate Intelligence**
- **🧠 Dynamic Metrics**: All analysis metrics generated by Gemini AI, not hardcoded
- **📈 Real-time Ranges**: Water levels, rainfall, growth rates, AQI values from LLM analysis
- **🎯 Context-Aware Data**: Seasonal variations and location-specific information
- **🔄 Intelligent Fallbacks**: Multiple field name support with graceful degradation
- **⚡ Smart Parsing**: Automatic detection of K/M suffixes in population data
- **🌍 Multi-Source Integration**: 
  - OpenWeatherMap for weather data
  - Nominatim for geocoding
  - Overpass API for geographical features
  - Open-Elevation API for terrain data
- **🤖 AI-Powered Insights**: Gemini 2.5 Flash integration for intelligent analysis
- **📊 Dynamic Risk Assessment**: LLM-based risk evaluation (High/Medium/Low)
- **📋 Policy Recommendations**: AI-generated climate adaptation strategies

### 🎯 **Query Relevance System**
- **✅ Intent Validation**: Only processes climate/disaster-related queries
- **🚫 Irrelevant Query Handling**: Graceful fallback for non-environmental questions
- **💡 Smart Suggestions**: Provides relevant example queries for guidance
- **🔍 Four Supported Cases**:
  1. **🌊 Flood Analysis** - Water disasters, flooding, drainage
  2. **🏙️ Urban Expansion** - City growth, development, infrastructure
  3. **🌲 Deforestation** - Forest loss, vegetation decline, ecosystem degradation
  4. **💨 Air Pollution** - Air quality, smog, emissions, atmospheric contamination

### 🎨 **Modern UI/UX**
- **Dark/Light Mode**: Adaptive theme switching
- **Responsive Design**: Mobile-first approach with tablet and desktop optimization
- **Smooth Animations**: Framer Motion powered transitions
- **Accessibility**: WCAG compliant interface design

## 🛠️ Technology Stack

### **Frontend**
- **React 18.2.0** - Modern UI framework
- **Vite** - Fast build tool and development server
- **Tailwind CSS** - Utility-first CSS framework
- **Framer Motion** - Animation library
- **Leaflet.js** - Interactive maps
- **Lucide React** - Beautiful icons

### **Backend & Services**
- **Firebase Hosting** - Web hosting
- **Firestore** - NoSQL database
- **Google Gemini AI** - Large Language Model
- **OpenWeatherMap API** - Weather data
- **Nominatim API** - Geocoding service
- **Overpass API** - OpenStreetMap data
- **Open-Elevation API** - Elevation data

### **Development Tools**
- **Firebase CLI** - Deployment and management
- **ESLint** - Code linting
- **PostCSS** - CSS processing
- **Autoprefixer** - CSS vendor prefixes

## 📋 Prerequisites

Before running this project, ensure you have:

- **Node.js** (v16 or higher)
- **npm** or **yarn**
- **Firebase CLI** (`npm install -g firebase-tools`)
- **Git**

## 🚀 Quick Start

### 1. Clone the Repository
```bash
git clone https://github.com/moawizbinyamin/Rahbar-environmental-and-climate-data-analysist.git
cd Rahbar-environmental-and-climate-data-analysist
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Environment Setup
Create a `.env` file in the root directory:
```env
# Google Gemini AI
VITE_GEMINI_API_KEY=your_gemini_api_key_here

# OpenWeatherMap API
VITE_OPENWEATHER_API_KEY=your_openweather_api_key_here

# Firebase Configuration (Optional - already configured)
VITE_FIREBASE_API_KEY=your_firebase_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
```

### 4. Development Server
```bash
npm run dev
```
Open [http://localhost:5173](http://localhost:5173) to view the application.

### 5. Build for Production
```bash
npm run build
```

### 6. Deploy to Firebase
```bash
firebase deploy --only hosting
```

## 🔑 API Keys Setup

### Google Gemini AI
1. Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Create a new API key
3. Add it to your `.env` file as `VITE_GEMINI_API_KEY`

### OpenWeatherMap
1. Sign up at [OpenWeatherMap](https://openweathermap.org/api)
2. Get your free API key
3. Add it to your `.env` file as `VITE_OPENWEATHER_API_KEY`

## 📱 Usage

### Desktop Experience
1. **Chat Interface**: Always visible on the left side
2. **Collapsible Panel**: Click the chevron to collapse/expand chat
3. **Analysis Results**: View maps and insights on the right panel
4. **Dark Mode**: Toggle theme using the sun/moon icon

### Mobile Experience
1. **Tab Navigation**: Switch between Chat, Map, and Insights
2. **Floating Chat**: Tap the brain icon to access chat when collapsed
3. **Full-screen Maps**: Interactive maps optimized for mobile
4. **Voice Input**: Use microphone for hands-free interaction

### Example Queries
- *"What's the flood risk in Lahore?"*
- *"Show me urban expansion in Karachi over the last 5 years"*
- *"Analyze green space coverage in Islamabad"*
- *"What's the current weather and air quality in Multan?"*

## 🏗️ Project Structure

```
rahbar-climate-platform/
├── public/
│   └── vite.svg
├── src/
│   ├── components/
│   │   ├── AnalysisSection.jsx         # Main analysis layout
│   │   ├── ChatInterface.jsx           # Chat component with LLM integration
│   │   ├── RahbarLogo.jsx              # Custom logo component
│   │   ├── ReportSection.jsx           # Comprehensive report display
│   │   ├── CaseSpecificReport.jsx      # LLM-driven metrics display
│   │   ├── EnhancedMapVisualization.jsx # Interactive maps with pins/circles
│   │   ├── WelcomeSection.jsx          # Landing page
│   │   └── auth/
│   │       └── UserProfile.jsx         # User profile management
│   ├── hooks/
│   │   └── useFirestore.js             # Database operations
│   ├── services/
│   │   ├── coreLLMService.js           # 🧠 Central LLM intelligence engine
│   │   ├── alphaEarthService.js        # Geospatial data service
│   │   ├── climateAnalysisService.js   # Climate analysis engine
│   │   ├── geospatialDataService.js    # Real-time data APIs
│   │   └── llmService.js               # Legacy Gemini AI integration
│   ├── contexts/
│   │   └── AuthContext.jsx             # Authentication context
│   ├── pages/
│   │   ├── Dashboard.jsx               # Main dashboard
│   │   ├── LandingPage.jsx             # Landing page
│   │   ├── LoginPage.jsx               # Login page
│   │   └── SignupPage.jsx              # Signup page
│   ├── firebase/
│   │   └── config.js                   # Firebase configuration
│   ├── App.jsx                         # Main application component
│   ├── main.jsx                        # Application entry point
│   └── index.css                       # Global styles
├── firebase.json                       # Firebase configuration
├── firestore.rules                     # Database security rules
├── firestore.indexes.json              # Database indexes
├── package.json                        # Dependencies and scripts
├── tailwind.config.js                  # Tailwind CSS configuration
├── vite.config.js                      # Vite configuration
└── README.md                           # Project documentation
```

## 🧠 **LLM Data Structure**

### **Expected LLM Response Format**
The system expects the LLM to provide data in this structured format:

```json
{
  "analysis": {
    "case_specific_metrics": {
      "flood": {
        "water_level_rise": "2.0-3.5m",
        "rainfall": "80-150mm", 
        "drainage_capacity": "50-60%",
        "evacuation_time": "5-10hrs",
        "season": "monsoon (July-August)"
      },
      "urban": {
        "growth_rate": "12-15%",
        "new_development": "140-180km²",
        "population_density": "8.0-10.0K/km²",
        "green_space_loss": "-18-25%"
      },
      "deforestation": {
        "annual_loss": "800-1000km²",
        "coverage": "35-42%",
        "carbon_impact": "2.0-2.8M tons",
        "species_affected": "150-180",
        "time_period": "2018-2025"
      },
      "air_pollution": {
        "aqi": "220-320",
        "pm25": "160-240 µg/m³",
        "visibility": "1.0-3.0 km",
        "health_impact": "Severe",
        "season": "winter (November-January)"
      }
    },
    "location_specific_insights": [
      {
        "location": "Lahore",
        "affected_population": "2.5M",
        "risk_level": "high"
      }
    ],
    "risk_assessment": {
      "overall_risk_level": "high",
      "confidence": "High",
      "explanation": "Risk assessment based on environmental data"
    }
  }
}
```

### **Field Priority System**
Each metric checks multiple possible field names for maximum compatibility:

```javascript
// Example: Water Level Rise
const waterLevel = 
  floodData.water_level_rise ||    // Primary
  floodData.water_level ||          // Secondary  
  '1.5-3.0m';                       // Fallback

// Population parsing with K/M detection
const affectedPop = parseFloat(popStr.match(/[\d.]+/)?.[0] || 0);
const multiplier = 
  popStr.includes('million') || popStr.includes('M') ? 1000000 :
  popStr.includes('thousand') || popStr.includes('K') ? 1000 : 1;
```

## 🔧 Configuration

### Firebase Setup
1. Create a new Firebase project
2. Enable Firestore Database
3. Enable Firebase Hosting
4. Update `src/firebase/config.js` with your project credentials

### Customization
- **Colors**: Modify `tailwind.config.js` for custom color schemes
- **API Endpoints**: Update service files for different data sources
- **UI Components**: Customize components in the `src/components/` directory

## 📊 Data Sources

### Real-time APIs
- **Weather Data**: OpenWeatherMap API
- **Geocoding**: Nominatim (OpenStreetMap)
- **Geographical Features**: Overpass API
- **Elevation Data**: Open-Elevation API

### AI Services
- **Language Model**: Google Gemini 2.5 Flash
- **Intent Detection**: Custom AI prompts
- **Analysis Generation**: Context-aware responses

## 🚀 Deployment

### Firebase Hosting
```bash
# Build the project
npm run build

# Deploy to Firebase
firebase deploy --only hosting
```

### Custom Domain
1. Add your domain in Firebase Console
2. Update DNS records as instructed
3. Enable SSL certificate

## 🤝 Contributing

We welcome contributions! Please follow these steps:

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing-feature`)
3. **Commit** your changes (`git commit -m 'Add amazing feature'`)
4. **Push** to the branch (`git push origin feature/amazing-feature`)
5. **Open** a Pull Request

### Development Guidelines
- Follow React best practices
- Use TypeScript for new components
- Write meaningful commit messages
- Test on multiple devices and browsers
- Ensure accessibility compliance

## 📝 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- **Google Gemini AI** for powerful language model capabilities
- **OpenWeatherMap** for comprehensive weather data
- **OpenStreetMap** community for geographical data
- **Firebase** for hosting and database services
- **React** and **Vite** communities for excellent tooling

## 📞 Support

- **Live Demo**: [https://rahbar-dcd4a.web.app](https://rahbar-dcd4a.web.app)
- **Issues**: [GitHub Issues](https://github.com/moawizbinyamin/Rahbar-environmental-and-climate-data-analysist/issues)
- **Documentation**: [Project Wiki](https://github.com/moawizbinyamin/Rahbar-environmental-and-climate-data-analysist/wiki)

## 🔮 Roadmap

### Phase 1 (Completed ✅)
- ✅ Basic chat interface with LLM integration
- ✅ Real-time weather integration
- ✅ Interactive maps with pins and radius circles
- ✅ AI-powered analysis with dynamic metrics
- ✅ Custom logo with curved corners and solid typography
- ✅ LLM-driven metrics system
- ✅ Query relevance validation
- ✅ Intelligent fallback systems
- ✅ User authentication and profiles
- ✅ Responsive design with dark/light mode

### Phase 2 (In Progress 🔄)
- 🔄 Historical data analysis integration
- 🔄 Enhanced satellite imagery overlay
- 🔄 Advanced visualization tools (3D terrain, heat maps)
- 🔄 Multi-language support for global accessibility
- 🔄 Real-time data streaming
- 🔄 Advanced AI model fine-tuning

### Phase 3 (Planned 📋)
- 📋 Machine learning models for predictive analytics
- 📋 Advanced predictive analytics and forecasting
- 📋 RESTful API for third-party integration
- 📋 Native mobile applications (iOS/Android)
- 📋 IoT sensor data integration
- 📋 Blockchain-based data verification
- 📋 Advanced reporting and dashboard customization

### Phase 4 (Future Vision 🚀)
- 🚀 Global climate data marketplace
- 🚀 AI-powered policy recommendation engine
- 🚀 Community-driven environmental monitoring
- 🚀 Integration with smart city infrastructure
- 🚀 Advanced climate modeling and simulation

---

**Built with ❤️ for a sustainable future**

*Rahbar - Your guide to climate intelligence*